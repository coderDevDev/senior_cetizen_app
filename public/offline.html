<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Offline - SCIMS</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        background: linear-gradient(135deg, #feffff 0%, #ffffff 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        color: #333333;
      }

      .offline-container {
        text-align: center;
        max-width: 500px;
        background: white;
        padding: 3rem 2rem;
        border-radius: 24px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
        border: 1px solid #e0ddd8;
      }

      .offline-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #00af8f, #00af90);
        border-radius: 50%;
        margin: 0 auto 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .offline-icon::before {
        content: '📡';
        font-size: 2rem;
        filter: grayscale(1);
      }

      .offline-icon::after {
        content: '';
        position: absolute;
        top: -5px;
        right: -5px;
        width: 24px;
        height: 24px;
        background: #ef4444;
        border-radius: 50%;
        border: 3px solid white;
      }

      h1 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(135deg, #00af8f, #00af90);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      p {
        color: #666666;
        line-height: 1.6;
        margin-bottom: 2rem;
        font-size: 1.1rem;
      }

      .features {
        background: #f8f9fa;
        border-radius: 16px;
        padding: 1.5rem;
        margin: 2rem 0;
        text-align: left;
      }

      .features h3 {
        color: #333333;
        margin-bottom: 1rem;
        font-size: 1.2rem;
      }

      .features ul {
        list-style: none;
        padding: 0;
      }

      .features li {
        padding: 0.5rem 0;
        color: #666666;
        position: relative;
        padding-left: 1.5rem;
      }

      .features li::before {
        content: '✓';
        position: absolute;
        left: 0;
        color: #00af8f;
        font-weight: bold;
      }

      .retry-btn {
        background: linear-gradient(135deg, #00af8f, #00af90);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        margin-top: 1rem;
      }

      .retry-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(0, 175, 143, 0.3);
      }

      .network-status {
        margin-top: 2rem;
        padding: 1rem;
        border-radius: 12px;
        font-weight: 500;
      }

      .network-status.offline {
        background: #fee2e2;
        color: #dc2626;
        border: 1px solid #fecaca;
      }

      .network-status.online {
        background: #dcfce7;
        color: #16a34a;
        border: 1px solid #bbf7d0;
      }

      @media (max-width: 480px) {
        .offline-container {
          padding: 2rem 1.5rem;
        }

        h1 {
          font-size: 1.5rem;
        }

        p {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="offline-container">
      <div class="offline-icon"></div>

      <h1>You're Offline</h1>

      <p>
        No internet connection detected. Don't worry! The Senior Citizen
        Information Management System works offline too.
      </p>

      <div class="features">
        <h3>🌟 Available Offline Features:</h3>
        <ul>
          <li>Browse previously loaded senior citizen records</li>
          <li>Fill out registration forms (will sync when online)</li>
          <li>View cached announcements and alerts</li>
          <li>Access offline help and documentation</li>
          <li>Data automatically syncs when connection returns</li>
        </ul>
      </div>

      <div class="network-status offline" id="networkStatus">
        📡 Currently Offline - Monitoring connection...
      </div>

      <a href="/" class="retry-btn" id="retryBtn"> Try Again </a>
    </div>

    <script>
      // Monitor network status
      function updateNetworkStatus() {
        const statusEl = document.getElementById('networkStatus');
        const retryBtn = document.getElementById('retryBtn');

        if (navigator.onLine) {
          statusEl.textContent = '🌐 Back Online - Redirecting...';
          statusEl.className = 'network-status online';
          retryBtn.textContent = 'Continue to App';

          // Auto-redirect after 2 seconds when back online
          setTimeout(() => {
            window.location.href = '/';
          }, 2000);
        } else {
          statusEl.textContent =
            '📡 Currently Offline - Monitoring connection...';
          statusEl.className = 'network-status offline';
          retryBtn.textContent = 'Try Again';
        }
      }

      // Listen for network changes
      window.addEventListener('online', updateNetworkStatus);
      window.addEventListener('offline', updateNetworkStatus);

      // Check status on load
      updateNetworkStatus();

      // Add retry functionality
      document.getElementById('retryBtn').addEventListener('click', e => {
        if (!navigator.onLine) {
          e.preventDefault();
          // Show brief feedback for offline retry
          const btn = e.target;
          const originalText = btn.textContent;
          btn.textContent = 'Still Offline...';
          btn.style.background = '#ef4444';

          setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '';
          }, 1500);
        }
      });

      // Update the page periodically
      setInterval(updateNetworkStatus, 5000);
    </script>
  </body>
</html>
